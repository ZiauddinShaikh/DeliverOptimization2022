

@using Microsoft.AspNetCore.Http;
@model DeliverOptimization2022.Models.tbl_EmployeeOptimizationList_New


<link href="~/css/CustomStyle.css" rel="stylesheet" />
@*<link href="~/css/CustomStyle.css" rel="stylesheet" />
    <link href="~/DataTables/DataTables-1.10.25/css/jquery.dataTables.css" rel="stylesheet" />
    <script src="~/DataTables/DataTables-1.10.25/js/jquery.dataTables.js"></script>*@
@{
    var tablowBillabilityTab = Context.Session.GetString("LowBillability");
    var tabLowBillabilityOutliers = Context.Session.GetString("LowBillabilityOutliers");
    var tbaRotation = Context.Session.GetString("Rotation");
    var tabMigration = Context.Session.GetString("Migration");
}

<div id="tabs" class="mt-3 tabs">
    <ul>
        <li><a href="#LowBillability"> Low Billability</a></li>
        <li><a href="#LowBillabilityOutliers">Low Billability Outliers</a></li>
        @*<li><a href="#HighBillabilityOutliers">High Billability Outliers</a></li>*@
        <li><a href="#Rotation">Rotate High Tenure</a></li>
        <li><a href="#Migration">Migration</a></li>
    </ul>
    <div id="LowBillability">
        <div class="row m-5">
            <div class="col-12">
                <table id="tblCustomized" class="table table-striped row-border hover" width="100%">
                </table>
            </div>
        </div>

    </div>
    <div id="LowBillabilityOutliers">

        <div class="row m-5">
            <div class="col-12">
                <table id="tblCustomized2" class="table table-striped row-border hover" width="100%">
                </table>
            </div>
        </div>
    </div>

    @*<div id="HighBillabilityOutliers">
            <div class="row m-5">
                <div class="col-12">
                    <table id="tblCustomized3" class="table table-striped row-border hover" width="100%">
                    </table>
                </div>
            </div>
        </div>*@

    <div id="Rotation">
        <div class="row m-5">
            <div class="col-12">
                <table id="tblCustomizedRotation" class="table table-striped row-border hover" width="100%">
                </table>
            </div>
        </div>
    </div>
    <div id="Migration">
        <div class="row m-5">
            <div class="col-12">
                <table id="tblCustomizedMigration" class="table table-striped row-border hover" width="100%">
                </table>
            </div>
        </div>
    </div>

    <input type="hidden" id="hdnLowBillability" value="@tablowBillabilityTab" />
    <input type="hidden" id="hdnLowBillabilityOutliers" value="@tabLowBillabilityOutliers" />
    <input type="hidden" id="hdnRotation" value="@tbaRotation" />
    <input type="hidden" id="hdnMigration" value="@tabMigration" />
</div>









<style>
    .tabs .ui-tabs-nav li {
        margin-top: 0.6em;
        font-size: 80%;
    }

        .tabs .ui-tabs-nav li.ui-tabs-selected,
        .tabs .ui-tabs-nav li.ui-state-active {
            margin-top: 0em;
            font-size: 100%;
        }
    /*.dataTables_wrapper {
        _height: 102px;
        min-height: 102px;
    }*/
    th.hide_me, td.hide_me {
        display: none;
    }

    th {
        font-size: 12px;
    }

    td {
        font-size: 11px;
        min-height: 15px;
    }

    th, td {
        white-space: nowrap;
    }

    .toolbar {
        float: left;
        margin-right: 10px;
    }

    .hr {
        padding: 0px !important;
        margin: 0px !important;
    }

    button.multiselect {
        height: 30px;
        font-size: 11px;
    }
</style>

@section scripts{
    <script type="text/javascript">
		$(document).ready(function () {
			//Initialization
			{
				$("#divddlApprovedOverheadJustification").hide();
				$("#divddlVolumetricJustification").hide();
				$("#spanComment").hide();
				$("#loading").hide();
				$("#loading1").hide();
                $("#loading2").hide();
				$("#divAction").hide();
				$("#divComment").hide();
				$("#divlblLevell2DD").hide();
				$("#divddlLevell2DD").hide();
                $("#divInputText").hide();
                $("#divWhenAvaliableforRotationDropdown").hide();
				$("#divInputTextMigration").hide();
                $("#divInputTextMigrationConstraint").hide();

                $("#txtMPositionName").hide(); 
                $("#txtMPositionFTE").hide();
                $("#txtMPositionEndDate").hide();
                $("#txtMBillingType").hide();

                $("#txtMWorkCanOnlyBePerformedOnSite").hide();
                $("#txtSpecifycountryduetoclientFacing").hide();
                $("#txtContractuallyrequiredLanguage").hide();



               /* $($("#tabs").find("li")[0]).hide()*/
			}

			//disable previous date
			{
				var dtToday = new Date();
				var month = dtToday.getMonth() + 1;
				var day = dtToday.getDate();
				var year = dtToday.getFullYear();
				if (month < 10)
					month = '0' + month.toString();
				if (day < 10)
					day = '0' + day.toString();
				var maxDate = year + '-' + month + '-' + day;
				$('#ddlActionDueDate').attr('min', maxDate);
			}

			//Tab Operation
			{
                $("#tabs").tabs({
                    active: localStorage.getItem("currentIdx"),
                    activate: function (event, ui) {
                        localStorage.setItem("currentIdx", $(this).tabs('option', 'active'));
                        window.location.reload();
                    },
				});
				if ($("#hdnLowBillability").val() === "No") {
					$('[href="#LowBillability"]').closest('li').hide();
				}
				else {
                    $("#LowBillability").addClass("active");
				}
                if ($("#hdnLowBillabilityOutliers").val() === "No") {
                    $('[href="#LowBillabilityOutliers"]').closest('li').hide();
				}
                else {
                    $("#LowBillabilityOutliers").addClass("active");
                }
                if ($("#hdnRotation").val() === "No") {
                    $('[href="#Rotation"]').closest('li').hide();
				}
                else {
                    $("#Rotation").addClass("active");
                }
                if ($("#hdnMigration").val() === "No") {
                    $('[href="#Migration"]').closest('li').hide();
				}
                else {
                    $("#Migration").addClass("active");
                }
			}

			//tblCustomized
			{
				var table = $("#tblCustomized").DataTable({
					"language": {
						"emptyTable": "No EID/s for inputs under your hierarchy for this category"
					},
					"bStateSave": true,
					"scrollX": true,
					"sScrollXInner": "100%",
					"processing": true,
					"serverSide": true,
					"filter": true,
					"bSort": false,
					"ajax": {
						"url": "@Url.Action("GetEmployeeRecord", "KARAT")",
						"type": "POST",
						"datatype": "json"
					},
					"columnDefs": [
						{ className: 'text-center', targets: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,19] },
						/*{ "sClass": "hide_me", "aTargets": [16] }*/
						//{
						//	"targets": [16],
						//	"visible": false,
						//	"searchable": false
						//}

						/*{ className: 'text-center', targets: [5] },*/
					],
					"columns": [
						{
							"title": "Employee Id",
							"data": "eid",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
						{
							"title": "Employee Name",
							"data": "employeeName",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},

						{ "title": "Country", "data": "country" },
                        { "title": "GIDC Country", "data": "gidcCountry" },
						{ "title": "Category", "data": "category" },
						{ "title": "TT Client ID", "data": "ttClientID" },
						{ "title": "TT Client", "data": "ttClient" },
						{ "title": "Billability Curr Month", "data": "billabilityCurrentMth" },
						{ "title": "Billability Pre Month", "data": "billabilityPrvMth" },
						{ "title": "Billability Avg Three Month", "data": "last6MonthAvgBill" },
						{ "title": "PPMC Alloc Status", "data": "ppmcAllocStatus" },
						{ "title": "Revenue Region", "data": "revenueRegion" },
						{ "title": "Work Location Region", "data": "workLocationRegion" },
						{ "title": "Service Line", "data": "serviceLine" },
						{ "title": "Gidc Flag", "data": "gidcFlag" },
						{ "title": "People Mgr Name", "data": "peopleMgrName" },
						{ "title": "Level1DD", "data": "level1DD" },
						{ "title": "Level2DD", "data": "level2DD" },
						{ "title": "action", "data": "action", className: "hide_me" },
						{ "title": "Action Due Date", "data": "actionDueDate" },
						{ "title": "Action Status", "data": "actionStatus" },
						{ "title": "Remark", "data": "comment" },
						{ "title": "Modified By", "data": "modifiedBy" },
						{ "title": "Modified On", "data": "modifiedOn" },
					]
				});

				$('#tblCustomized').on('click', '.selectrow', function () {
					var currentRow = $(this).closest("tr");
					var EId = currentRow.find("td:eq(0)").text();
					var Ename = currentRow.find("td:eq(1)").text();
					var Region = currentRow.find("td:eq(11)").text();
					var GeoRegion = currentRow.find("td:eq(12)").text();
					var ServiceLine = currentRow.find("td:eq(13)").text();
					var Category = currentRow.find("td:eq(4)").text();
					var level1DD = currentRow.find("td:eq(16)").text();
					var level2DD = currentRow.find("td:eq(17)").text();
					var Action = currentRow.find("td:eq(18)").text();
					var ActionDueDate = currentRow.find("td:eq(19)").text();
					var ActionStatus = currentRow.find("td:eq(20)").text();
					var Remarks = currentRow.find("td:eq(21)").text();
					$('.EmployeeId').text(EId);
					$('.EmployeeName').text(Ename);
					$('.EmployeeCategory').text(Category);
					$('.EmployeeRegion').text(Region);
					$('.EmployeeServiceLine').text(ServiceLine);
					$('.EmployeeGeoRegion').text(GeoRegion);
					$('#hdnRegion').val(Region);
					$('#hdnServiceLine').val(ServiceLine);
					$('#hdnNewCategory').val(Category);
					$('#hdnGeoRegion').val(GeoRegion);

					@*var displayStatus = '@TempData["DisplayEdit"]';

					if (displayStatus === "No") {
						$('#NoDescModal').modal("show");
						return;
					}*@

					showLevel1DD(GeoRegion, ServiceLine, Category);


					if (level1DD === '') {
						$("#divComment").hide();
						$("#divlblLevell2DD").hide();
						$("#divddlLevell2DD").hide();
						$("#divAction").hide();
						$('#hdnEditValue').val('No');
						/*showLevel1DD(Region, ServiceLine, Category);*/
						$('#DescModal').modal("show");
					}
                    else if (level1DD === 'Approved Overhead' || level1DD === 'Full month 100% HSV') {
						$('#hdnEditValue').val('Yes');
						$('#txtcomment').val(Remarks);
						$("#divComment").show();
						$("#divlblLevell2DD").show();
						$("#divddlLevell2DD").show();
						$("#divAction").hide();
						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
					}
                    else if (level2DD === 'Pre-sales' || level2DD === 'Solutioning' || level2DD === 'Manual Billing (Healthcare)' || level2DD === 'Manual Billing (Canada Public Sector)') {
                        $('#hdnEditValue').val('Yes');
                        $('#txtcomment').val(Remarks);
                        $("#divComment").show();
                        $("#divlblLevell2DD").show();
                        $("#divddlLevell2DD").show();
                        $("#divAction").hide();
                        showLevel1DD(GeoRegion, ServiceLine, Category);
                        showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
                        $('#ddlCategoryType').val(level1DD);
                        $('#ddlApprovedOverheadJustification').val(level2DD);
                    }
					else if (level1DD === 'Volumetric') {
						$('#hdnEditValue').val('Yes');
						$('#txtcomment').val(Remarks);
						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
						if (ServiceLine === 'IT Outsourcing & Cloud' || ServiceLine === 'Security' || ServiceLine === 'Modern Workplace' ||
							ServiceLine === 'BPS' || ServiceLine === 'Insurance BPS') {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").show();
						}
						else {
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$("#divComment").show();
						}
					}
					else {

						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('.ActionValue').text(Action);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
						$('#ddlActionDueDate').val(ActionDueDate);
						$('#ddlActionStatus').val(ActionStatus);
						$('#txtcomment').val(Remarks);
						$("#divComment").show();
						$("#divlblLevell2DD").show();
						$("#divddlLevell2DD").show();
						$("#divAction").show();
					}
					$('#DescModal').modal("show");
				});
			}

			//tblCustomized2
			{
				var table2 = $("#tblCustomized2").DataTable({
					"language": {
						"emptyTable": "No EID/s for inputs under your hierarchy for this category"
					},
					"bStateSave": true,
					"scrollX": true,
					"sScrollXInner": "100%",
					"processing": true,
					"serverSide": true,
					"filter": true,
					"bSort": false,
					"ajax": {
						"url": "@Url.Action("GetEmployeeRecordTab2", "KARAT")",
						"type": "POST",
						"datatype": "json"
					},
					"columnDefs": [
						{ className: 'text-center', targets: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18] },
						/*{ className: 'text-center', targets: [5] },*/
					],
					"columns": [
						{
							"title": "Employee Id",
							"data": "eid",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
						{
							"title": "Employee Name",
							"data": "employeeName",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},

						{ "title": "Country", "data": "country" },
                        { "title": "GIDC Country", "data": "gidcCountry" },
						{ "title": "Category", "data": "category" },
						{ "title": "TT Client ID", "data": "ttClientID" },
						{ "title": "TT Client", "data": "ttClient" },
						{ "title": "Billability Curr Month", "data": "billabilityCurrentMth" },
						{ "title": "Billability Pre Month", "data": "billabilityPrvMth" },
						{ "title": "Billability Avg Three Month", "data": "last6MonthAvgBill" },
						{ "title": "PPMC Alloc Status", "data": "ppmcAllocStatus" },
						{ "title": "Revenue Region", "data": "revenueRegion" },
						{ "title": "Work Location Region", "data": "workLocationRegion" },
						{ "title": "Service Line", "data": "serviceLine" },
						{ "title": "Gidc Flag", "data": "gidcFlag" },
						{ "title": "People Mgr Name", "data": "peopleMgrName" },
						{ "title": "Level1DD", "data": "level1DD" },
						{ "title": "Level2DD", "data": "level2DD" },
						{ "title": "action", "data": "action", className: "hide_me" },
						{ "title": "Action Due Date", "data": "actionDueDate" },
						{ "title": "Action Status", "data": "actionStatus" },
						{ "title": "Remark", "data": "comment" },
						{ "title": "Modified By", "data": "modifiedBy" },
						{ "title": "Modified On", "data": "modifiedOn" },
					]
				});

				$('#tblCustomized2').on('click', '.selectrow', function () {
					var currentRow = $(this).closest("tr");
					var EId = currentRow.find("td:eq(0)").text();
					var Ename = currentRow.find("td:eq(1)").text();
					var Region = currentRow.find("td:eq(11)").text();
					var GeoRegion = currentRow.find("td:eq(12)").text();
					var ServiceLine = currentRow.find("td:eq(13)").text();
					var Category = currentRow.find("td:eq(4)").text();
					var level1DD = currentRow.find("td:eq(16)").text();
					var level2DD = currentRow.find("td:eq(17)").text();
					var Action = currentRow.find("td:eq(18)").text();
					var ActionDueDate = currentRow.find("td:eq(19)").text();
					var ActionStatus = currentRow.find("td:eq(20)").text();
					var Remarks = currentRow.find("td:eq(21)").text();
					$('.EmployeeId').text(EId);
					$('.EmployeeName').text(Ename);
					$('.EmployeeCategory').text(Category);
					$('.EmployeeRegion').text(Region);
					$('.EmployeeServiceLine').text(ServiceLine);
					$('.EmployeeGeoRegion').text(GeoRegion);
					$('#hdnRegion').val(Region);
					$('#hdnServiceLine').val(ServiceLine);
					$('#hdnNewCategory').val(Category);
					$('#hdnGeoRegion').val(GeoRegion);

					@*var displayStatus = '@TempData["DisplayEdit"]';
					if (displayStatus === "No") {
						$('#NoDescModal').modal("show");
						return;
					}*@



					if (level1DD === '') {
						$("#divComment").hide();
						$("#divlblLevell2DD").hide();
						$("#divddlLevell2DD").hide();
						$("#divAction").hide();
						$('#hdnEditValue').val('No');
						showLevel1DD(GeoRegion, ServiceLine, Category);
						$('#DescModal').modal("show");
					}
                    else if (level1DD === 'Approved Overhead' || level1DD === 'Full month 100% HSV') {
						$('#hdnEditValue').val('Yes');
						$('#txtcomment').val(Remarks);
						$("#divComment").show();
						$("#divlblLevell2DD").show();
						$("#divddlLevell2DD").show();
						$("#divAction").hide();
						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
					}
                    else if (level2DD === 'Pre-sales' || level2DD === 'Solutioning' || level2DD === 'Manual Billing (Healthcare)' || level2DD === 'Manual Billing (Canada Public Sector)') {
                        $('#hdnEditValue').val('Yes');
                        $('#txtcomment').val(Remarks);
                        $("#divComment").show();
                        $("#divlblLevell2DD").show();
                        $("#divddlLevell2DD").show();
                        $("#divAction").hide();
                        showLevel1DD(GeoRegion, ServiceLine, Category);
                        showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
                        $('#ddlCategoryType').val(level1DD);
                        $('#ddlApprovedOverheadJustification').val(level2DD);
                    }
					else if (level1DD === 'Volumetric') {
						$('#hdnEditValue').val('Yes');
						$('#txtcomment').val(Remarks);
						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
						if (ServiceLine === 'IT Outsourcing & Cloud' || ServiceLine === 'Security' || ServiceLine === 'Modern Workplace' ||
							ServiceLine === 'BPS' || ServiceLine === 'Insurance BPS') {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").show();
						}
						else {
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$("#divComment").show();
						}
					}
					else {

						showLevel1DD(GeoRegion, ServiceLine, Category);
						showLevel2DD(GeoRegion, ServiceLine, Category, level1DD);
						$('.ActionValue').text(Action);
						$('#ddlCategoryType').val(level1DD);
						$('#ddlApprovedOverheadJustification').val(level2DD);
						$('#ddlActionDueDate').val(ActionDueDate);
						$('#ddlActionStatus').val(ActionStatus);
						$('#txtcomment').val(Remarks);
						$("#divComment").show();
						$("#divlblLevell2DD").show();
						$("#divddlLevell2DD").show();
						$("#divAction").show();
					}
					$('#DescModal').modal("show");
				});
			}

		//tblCustomizedRotation
			{
				var rotationAccount = "";
				var table = $("#tblCustomizedRotation").DataTable({
					"language": {
						"emptyTable": "No EID/s for inputs under your hierarchy for this category"
					},
					"bStateSave": true,
					"scrollX": true,
					"sScrollXInner": "100%",
					"processing": true,
					"serverSide": true,
					"filter": true,
					"bSort": false,
					"ajax": {
						"url": "@Url.Action("GetEmployeeRecordRotation", "KARAT")",
						"type": "POST",
						"datatype": "json"
					},
					"columnDefs": [
						{ className: 'text-center', targets: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14] },
						/*{ "sClass": "hide_me", "aTargets": [16] }*/
						//{
						//	"targets": [16],
						//	"visible": false,
						//	"searchable": false
						//}

						/*{ className: 'text-center', targets: [5] },*/
					],
					"columns": [
						{
							"title": "Employee Id",
                            "data": "employeeID",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
						{
							"title": "Employee Name",
                            "data": "employeeName",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
						{ "title": "Need For Response", "data": "needForRespons" },
						{ "title": "Position", "data": "position" },
                        { "title": "Account", "data": "account" },
                        { "title": "Position End Date", "data": "positionEndDate" },
                        { "title": "Months-In-Position", "data": "monthsInPosition" },
                        { "title": "Can Emp Released In Six Month", "data": "canEmpReleasedIn6Month" },
                        { "title": "Earliest Released Date", "data": "earliestReleasedDate" },
                        { "title": "Back fill Plan", "data": "backfillPlan" },
                        { "title": "Specify Successor", "data": "specifySuccessor" },
                        { "title": "Expected KT Duration", "data": "expectedKTDuration" },
                        { "title": "Risk Of Service Delivery", "data": "riskOfServiceDelivery" },
                        { "title": "Confirm Current Account", "data": "confirmCurrentAccount" },
						{ "title": "Account Contact For Inter lock", "data": "accountContactForInterlock" },
                        { "title": "Employee Flight Risk", "data": "employeeFlightRisk" },
                        { "title": "Comment", "data": "comment" },
                        { "title": "Modified By", "data": "modifiedBy" },
                        { "title": "Modified On", "data": "modifiedOn" },
                    ]
                });

				$('#tblCustomizedRotation').on('click', '.selectrow', function () {
                    $('#lblHeader').text("Rotation");
                    $('#ddlRotationYN').val('');
                    $('#ddlRotationQuarter').val('');
                    $('#txtRotationcomment').text('');
                    $("#ddlPPMCPosition").val("");

                    var currentRow = $(this).closest("tr");
                    var employeeID = currentRow.find("td:eq(0)").text();
                    var employeeName = currentRow.find("td:eq(1)").text();
                    var needForRespons = currentRow.find("td:eq(2)").text();
					var position = currentRow.find("td:eq(3)").text();
                    var account = currentRow.find("td:eq(4)").text();
                    var positionEndDate = currentRow.find("td:eq(5)").text();
                    var monthsInPosition = currentRow.find("td:eq(6)").text();
					var canEmpReleasedIn6Month = currentRow.find("td:eq(7)").text();
                    var earliestReleasedDate = currentRow.find("td:eq(8)").text();
                    var backfillPlan = currentRow.find("td:eq(9)").text();
                    var specifySuccessor = currentRow.find("td:eq(10)").text();
                    var expectedKTDuration = currentRow.find("td:eq(11)").text();
                    var riskOfServiceDelivery = currentRow.find("td:eq(12)").text();
                    var confirmCurrentAccount = currentRow.find("td:eq(13)").text();
                    var accountContactForInterlock = currentRow.find("td:eq(14)").text();
                    var employeeFlightRisk = currentRow.find("td:eq(15)").text();
					var comment = currentRow.find("td:eq(16)").text();
                    $('#REID').val(employeeID);
					rotationAccount = account;
                    $('#txtConfirmcurrentaccount').text(account);



                    $('.REmployee').text(employeeName);
                    $('.RAccount').text(account);
					$('.RNeedforresources').text(needForRespons);
					$('.RPosition').text(position);
					$('.RPositionEndDate').text(positionEndDate);
					$('.RMonthInPosition').text(monthsInPosition);
					$('.RcanEmpReleasedIn6Month').text(canEmpReleasedIn6Month);

                    $('#ddlRotationYN').val(canEmpReleasedIn6Month);
                    $('#txtEarliestReleaseDate').val(earliestReleasedDate);
                    $('#ddlBackfillPlan').val(backfillPlan);
                    $('#txtSpecifySuccessorifknown').val(specifySuccessor);
                    $("#txtKTduration").val(expectedKTDuration);
                    $('#ddlflightrisk').val(employeeFlightRisk);
                    $('#ddlRisk').val(riskOfServiceDelivery);
                    $('#txtConfirmcurrentaccount').val(confirmCurrentAccount);
                    $('#txtAccountContactforInterlock').val(accountContactForInterlock);
                    $('#txtRotationcomment').val(comment);
                    $('#REID').val(employeeID);

                    var RotationYN = $('#ddlRotationYN').val();
					if (RotationYN === 'Yes, new role to be agreed') {

						$('#divInputText').show();
					}
					else {
                        $('#divInputText').hide();
					}
                    $('#rotationModal').modal("show");
				});
			}

		//tblCustomizedMigration
            var setConfirmCurrentAccount = ''; 
			{
				var ppmcdropdownchecked = false;
                var table = $("#tblCustomizedMigration").DataTable({
					"language": {
						"emptyTable": "No EID/s for inputs under your hierarchy for this category"
					},
					"bStateSave": true,
					"scrollX": true,
					"sScrollXInner": "100%",
					"processing": true,
					"serverSide": true,
					"filter": true,
					"bSort": false,
					"ajax": {
						"url": "@Url.Action("GetEmployeeMigration", "KARAT")",
						"type": "POST",
						"datatype": "json"
					},
					"columnDefs": [
						{ className: 'text-center', targets: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14] },
					],
					"columns": [
						{
							"title": "Employee Id",
                            "data": "employeeID",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
						{
							"title": "Employee Name",
							"data": "employeeName",
							"render": function (data, type, row, meta) {
								return '<text style="color:blue;cursor: pointer;" class="selectrow">' + data + '</text>';
							}
						},
                        { "title": "Need For resources With Skills Of this Employee", "data": "needResourceSkill" },
						{ "title": "Position ID", "data": "matchingPosition" },
                        { "title": "Position Name", "data": "positonName" },
						{ "title": "Account", "data": "account" },
                        { "title": "Position FTE", "data": "positionFTE" },
						{ "title": "Position End Date", "data": "positionEndDate" },
                        { "title": "BillingType", "data": "billingType" },
                        { "title": "PPMC Location Alignment", "data": "workOnlyOnsite" },
                        { "title": "SpecifyCountry", "data": "specifyCountry" },
                        { "title": "ContractualLanguage", "data": "contractualLanguage" },
                        { "title": "FTETracked", "data": "fteTracked" },
                        { "title": "ContractualConstraint", "data": "contractualConstraint" },
                        { "title": "FullfilmentConstraints", "data": "fullfilmentConstraints" },
                        { "title": "YourAssessment", "data": "yourAssessment" },
                        { "title": "FTE", "data": "fte" },
                        { "title": "MigrateTo", "data": "migrateTo" },
                        { "title": "EarliestReleasedDate", "data": "earliestReleasedDate" },
                        { "title": "RiskToDelivery", "data": "riskToDelivery" },
                        { "title": "ConfirmCurrentAccount", "data": "confirmCurrentAccount" },
                        { "title": "AccountContact", "data": "accountContact" },
                        { "title": "Comment", "data": "comment" },
                        { "title": "Modified By", "data": "modifiedBy" },
                        { "title": "Modified On", "data": "modifiedOn" },
					]
				});

				
				$('#tblCustomizedMigration').on('click', '.selectrow', function () {
					$('#lblHeader').text("Migration");
					$('#ddlRotationYN').val('');
					$('#ddlRotationQuarter').val('');
					$('#txtRotationcomment').text('');
					$("#ddlPPMCPosition").val("");

                    var commentHeader = "Positioni FTE:<br/>Specify country due to client facing:<br/>Fulfilment constraints:";
					var currentRow = $(this).closest("tr");
					var eid = currentRow.find("td:eq(0)").text();
					var employeeName = currentRow.find("td:eq(1)").text();
                    var needResourceSkill = currentRow.find("td:eq(2)").text();
					var matchingPosition = currentRow.find("td:eq(3)").text();
                    var PositionName = currentRow.find("td:eq(4)").text();
					var account = currentRow.find("td:eq(5)").text();
                    var positionFTE = currentRow.find("td:eq(6)").text();
					var positionEndDate = currentRow.find("td:eq(7)").text();
                    var billingType = currentRow.find("td:eq(8)").text();
                    var workOnlyOnsite = currentRow.find("td:eq(9)").text();
                    var specifyCountry = currentRow.find("td:eq(10)").text();
                    var contractualLanguage = currentRow.find("td:eq(11)").text();
                    var fteTracked = currentRow.find("td:eq(12)").text();
                    var contractualConstraint = currentRow.find("td:eq(13)").text();
                    var fullfilmentConstraints = currentRow.find("td:eq(14)").text();
                    var yourAssessment = currentRow.find("td:eq(15)").text();
                    var fte = currentRow.find("td:eq(16)").text();
                    var migrateTo = currentRow.find("td:eq(17)").text();
                    var earliestReleasedDate = currentRow.find("td:eq(18)").text();
                    var riskToDelivery = currentRow.find("td:eq(19)").text();
                    var confirmCurrentAccount = currentRow.find("td:eq(20)").text();
                    var accountContact = currentRow.find("td:eq(21)").text();
					var comment = currentRow.find("td:eq(22)").text();

					
                    if (confirmCurrentAccount === '') {
                        setConfirmCurrentAccount = account;
					}
					else {
                        setConfirmCurrentAccount = confirmCurrentAccount;
					}

					$('.MemployeeName').text(employeeName);
					$('.MneedForresourcesWithSkillsOfthisEmployee').text(needResourceSkill);
                    $('.Maccount').text(account);
					$('.Mposition').text(matchingPosition);
                    
					$('.MFTETRacked').text(fteTracked);

					$('.MPositionName').text(PositionName);
                    $('#txtMPositionName').val(PositionName);

                    $('.MPositionFTE').text(positionFTE);
                    $('#txtMPositionFTE').val(positionFTE);

                    $('.MPositionEndDate').text(positionEndDate);
                    $('#txtMPositionEndDate').val(positionEndDate);

                    $('.MBillingType').text(billingType);
                    $('#txtMBillingType').val(billingType);

                    $('.MWorkCanOnlyBePerformedOnSite').text(workOnlyOnsite);
                    $('#txtMWorkCanOnlyBePerformedOnSite').val(workOnlyOnsite);

                    $('.SpecifycountryduetoclientFacing').text(specifyCountry);
                    $('#txtSpecifycountryduetoclientFacing').val(specifyCountry);

                    $('.ContractuallyrequiredLanguage').text(contractualLanguage);
                    $('#txtContractuallyrequiredLanguage').val(contractualLanguage);

                    $('#ddlContractualConstraint').val(contractualConstraint);
                    $('#ddlFulfilmentconstraints').val(fullfilmentConstraints);
					$('#ddlYourassessment').val(yourAssessment);
                    $("#txtMigrationEarliestReleaseDate").val(earliestReleasedDate);
                    $('#txtMigrationFTE').val(fte);
                    $('#ddlMigrateTo').val(migrateTo);
                    $('#ddlMigrationRisk').val(riskToDelivery);
                    $('#txtMigrationConfirmcurrentaccount').val(setConfirmCurrentAccount);
                    $('#txtMigrationAccountContactforInterlock').val(accountContact);
                    $('#txtMigrationcomment').val(comment);
                    $('#MEID').val(eid);

					if (yourAssessment === "OK to migrate") {
                       
                        $('#divInputTextMigration').show();
					}
					
                    else {
                        $('#divInputTextMigration').hide();
                    }

                    $('#migrationModal').modal("show");
				});
			}

			//Dropdown change event
			{
				$('#ddlCategoryType').change(function () {

					$("#divddlApprovedOverheadJustification").hide();
					$("#divlblLevell2DD").hide();
					$("#divddlLevell2DD").hide();
					$("#divAction").hide();
					$("#divComment").hide();
					$("#spanComment").hide();

					var Region = $('#hdnRegion').val();
					var ServiceLine = $('#hdnServiceLine').val();
					var Category = $('#hdnNewCategory').val();
					var FirstDDVal = $('#ddlCategoryType option:selected').val();
					var SecondDDVal = $('#ddlApprovedOverheadJustification option:selected').val();
					var EditValue = $('#hdnEditValue').val();
					var GeoRegion = $('#hdnGeoRegion').val();

					$('#ddlActionDueDate').val('');
					$('#ddlActionStatus').val('');
					$('#txtcomment').val('');
					$("#divddlLevell2DD").val('');
					$('#ddlApprovedOverheadJustification').val('');

					if (EditValue === "No") {
						$("#divddlApprovedOverheadJustification").hide();
						$("#divlblLevell2DD").hide();
						$("#divddlLevell2DD").hide();
						$("#divAction").hide();
						$("#divComment").hide();
                        if (FirstDDVal === 'Approved Overhead' || FirstDDVal === 'Redeploy to Billable') {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divAction").hide();
							$("#divComment").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);
						}
						else if (FirstDDVal === 'Volumetric') {

							if (ServiceLine === 'IT Outsourcing & Cloud' || ServiceLine === 'Security' || ServiceLine === 'Modern Workplace' ||
								ServiceLine === 'BPS' || ServiceLine === 'Insurance BPS') {
								$("#divlblLevell2DD").show();
								$("#divddlLevell2DD").show();
								$("#divComment").show
								showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);
							}
							else {
								$("#divlblLevell2DD").hide();
								$("#divddlLevell2DD").hide();
								$("#divComment").show();
							}
						}
						else if (FirstDDVal === "Bench / Not Assigned" || FirstDDVal === "Billable with Time Tracking Issue"
                            || FirstDDVal === "Short-term Non-Billable Assignment") {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							$("#divAction").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
                        else if (FirstDDVal === "Full month 100% HSV" || FirstDDVal === "Redeploy to Billable") {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
						else if (FirstDDVal === "On-call Tracked as Overtime") {
							$("#spanComment").hide();
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$('.ActionValue').text('Ensure Time Tracking Compliance');
							$("#divAction").show();
							$("#divComment").show();
							//$('#ddlApprovedOverheadJustification').val('');
							//$('.ActionValue').text('');
							//$('#ddlActionDueDate').val('');
							//$('#ddlActionStatus').val('');
						}
						else if (FirstDDVal === "Other") {
							$("#spanComment").show();
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$('.ActionValue').text('Ensure Time Tracking Compliance');
							$("#divAction").show();
							$("#divComment").show();
							//$('#ddlApprovedOverheadJustification').val('');
							//$('.ActionValue').text('');
							//$('#ddlActionDueDate').val('');
							//$('#ddlActionStatus').val('');
						}
						else if (FirstDDVal === "Valid Overtime") {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							$("#divAction").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
                        else if (FirstDDVal === "Manual Billing") {
                            $("#divlblLevell2DD").show();
                            $("#divddlLevell2DD").show();
                          /*  $("#divComment").show();*/
                            $("#divAction").hide();
                            showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

                        }
					}
					else {
                        if (FirstDDVal === 'Approved Overhead' || FirstDDVal === 'Redeploy to Billable') {

							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divAction").hide();
							$("#divComment").hide();
							showLevel2DD(GeoRegion,ServiceLine,Category,FirstDDVal);
						}
						else if (FirstDDVal === 'Volumetric') {
							if (ServiceLine === 'IT Outsourcing & Cloud' || ServiceLine === 'Security' || ServiceLine === 'Modern Workplace' ||
								ServiceLine === 'BPS' || ServiceLine === 'Insurance BPS') {
								$("#divlblLevell2DD").show();
								$("#divddlLevell2DD").show();
								$("#divComment").show
								showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);
							}
							else {
								$("#divlblLevell2DD").hide();
								$("#divddlLevell2DD").hide();
								$("#divComment").show();
							}
						}
						else if (FirstDDVal === "Bench / Not Assigned" || FirstDDVal === "Billable with Time Tracking Issue"
                            || FirstDDVal === "Short-term Non-Billable Assignment" )
						{

							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							$("#divAction").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
						else if (FirstDDVal === "Full month 100% HSV") {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
						else if (FirstDDVal === "On-call Tracked as Overtime") {
							$("#spanComment").hide();
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$('.ActionValue').text('Ensure Time Tracking Compliance');
							$("#divAction").show();
							$("#divComment").show();
							//$('#ddlApprovedOverheadJustification').val('');
							//$('.ActionValue').text('');
							//$('#ddlActionDueDate').val('');
							//$('#ddlActionStatus').val('');
						}
						else if (FirstDDVal === "Other") {
							$("#spanComment").show();
							$("#divlblLevell2DD").hide();
							$("#divddlLevell2DD").hide();
							$('.ActionValue').text('Ensure Time Tracking Compliance');
							$("#divAction").show();
							$("#divComment").show();
							//$('#ddlApprovedOverheadJustification').val('');
							//$('.ActionValue').text('');
							//$('#ddlActionDueDate').val('');
							//$('#ddlActionStatus').val('');
						}
						else if (FirstDDVal === "Valid Overtime") {
							$("#divlblLevell2DD").show();
							$("#divddlLevell2DD").show();
							$("#divComment").hide();
							$("#divAction").hide();
							showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

						}
						else if (FirstDDVal === "Manual Billing") {

                            $("#divlblLevell2DD").show();
                            $("#divddlLevell2DD").show();
                           /* $("#divComment").show();*/
                            $("#divAction").hide();
                            showLevel2DD(GeoRegion, ServiceLine, Category, FirstDDVal);

                        }
					}


					/*alert(FirstDDVal);*/
				});

				$('#ddlApprovedOverheadJustification').change(function () {
					$('#ddlActionDueDate').val('');
					$('#ddlActionStatus').val('');
					$('#txtcomment').val('');
					var EditValue = $('#hdnEditValue').val();
					//if (EditValue === 'No') {
					//	$('#ddlActionDueDate').val('');
					//	$('#ddlActionStatus').val('');
					//	$('#txtcomment').val('');
					//}



					var NewVal = $('#ddlApprovedOverheadJustification').val();

					if (NewVal === "Redeploy / Reskilling / Transfer") {
						$('.ActionValue').text('Confirm expected redeploy date');
						$("#divAction").show();
						$("#divComment").show();
					}
                    else if (NewVal === 'Resignation') {
                        $('.ActionValue').text('Confirm expected exit date');
                        $("#divAction").show();
                        $("#divComment").show();
					}
                    else if (NewVal === 'Stranded Bench') {
                        $('.ActionValue').text('Confirm expected redeploy date');
                        $("#divAction").show();
                        $("#divComment").show();
                    }
                    else if (NewVal === 'Redeploy to Billable') {
                        $("#divComment").show();
					}
                    else if (NewVal === 'Training') {
                        $('.ActionValue').text('Ensure 90% Billability in current month');
                        $("#divAction").show();
                        $("#divComment").show();
                    }
					else if (NewVal === 'Planned Exit') {
						$('.ActionValue').text('Confirm expected exit date');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'New assignment / waiting for WBS') {
						$('.ActionValue').text('Obtain Correct WBS code');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'New assignment / waiting for Client’s BGV clearance') {

						$('.ActionValue').text('Obtain Client BGV Clearance');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Wrong / non-billable WBS') {
						$('.ActionValue').text('Obtain Correct WBS code');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Forgot to enter timesheet or entered incorrectly') {
						$('.ActionValue').text('Ensure Time Tracking Compliance');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Manager did not approve timesheet on time') {
						$('.ActionValue').text('Ensure Time Tracking Compliance');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'IWO Issue') {
						$('.ActionValue').text('Fix IWO issue');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'DECP/Campus graduate') {
						$('.ActionValue').text('Confirm expected deploy date');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Time Tracking technical/system issue') {
						$('.ActionValue').text('Fix Time-Tracking Issue');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Training/Pre-sales/Solutioning') {
						$('.ActionValue').text('Ensure 90% Billability in current month');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Non-Project') {
						$('.ActionValue').text('Level out team workload by…');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Project') {
						$('.ActionValue').text('Confirm project end date');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Increase Billability (Partial additional work)') {
						$('.ActionValue').text('Confirm project end date');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Specific seasonal projects') {
						$('.ActionValue').text('Confirm project end date');
						$("#divAction").show();
						$("#divComment").show();
					}
					else if (NewVal === 'Overtime required due to understaffing') {
						$('.ActionValue').text('Level out team workload by…');
						$("#divAction").show();
						$("#divComment").show();
					}
                    else if (NewVal === 'Internal Projects') {
						$("#spanComment").show();
						$("#divComment").show();
					}
					else if (NewVal === 'On-call Tracked as Overtime') {
						$('.ActionValue').text('Ensure Time Tracking Compliance');
						$("#divAction").show();
						$("#spanComment").hide();
						$("#divComment").show();
					}
					else if (NewVal === 'Other') {
						$('.ActionValue').text('Ensure Time Tracking Compliance');
						$("#divAction").show();
						$("#spanComment").hide();
						$("#divComment").show();
					}
                    else if (NewVal === 'Other') {
                        $('.ActionValue').text('Ensure Time Tracking Compliance');
                        $("#divAction").show();
                        $("#spanComment").hide();
                        $("#divComment").show();
					}
                    else if (NewVal === 'Redeploy to Billable in existing team/Service Line') {
						$('.ActionValue').text('Confirm expected redeploy date');
                        $("#divAction").show();
                        $("#spanComment").hide();
                        $("#divComment").show();
					}
                    else if (NewVal === 'Redeploy to Billable work outside of existing team') {
                        $('.ActionValue').text('Confirm expected redeploy date');
                        $("#divAction").show();
                        $("#spanComment").hide();
                        $("#divComment").show();
                    }
					else {
						$("#divAction").hide();
						$("#divComment").show();
						$("#spanComment").hide();
					}
				});

				$('#ddlRotationYN').change(function () {


                   $('#txtEarliestReleaseDate').val("");
                   $('#ddlBackfillPlan').val("");
                   $('#txtSpecifySuccessorifknown').val("");
                   $('#txtKTduration').val("4");
                    $('#ddlflightrisk').val("");
                    $('#ddlRisk').val("Low");
                    $('#txtConfirmcurrentaccount').val(rotationAccount);
                    $('#txtAccountContactforInterlock').val("");
                    $('#txtRotationcomment').val("");


					var rotationval = $('#ddlRotationYN option:selected').val();
                    if (rotationval === 'Yes, new role to be agreed') {
                        $("#divInputText").show();
					}
					else {
                        $("#divInputText").hide();
					}
				});

                $('#ddlYourassessment').change(function () {

                    
                   
					$('#txtMigrationEarliestReleaseDate').val("");
					$('#txtMigrationFTE').val("");
					$('#ddlMigrateTo').val("");
					$('#ddlMigrationRisk').val("Low");
                    $('#txtMigrationConfirmcurrentaccount').val(setConfirmCurrentAccount);
					$('#txtMigrationAccountContactforInterlock').val("");
					$('#txtMigrationcomment').val("");

                    var ddlCanWorkBeMigrated = $('#ddlYourassessment').val();
                    if (ddlCanWorkBeMigrated ==="OK to migrate") {
						$("#divInputTextMigration").show();
					}
					else {
						$("#divInputTextMigration").hide();
                        $('#txtMigrationConfirmcurrentaccount').val('');
					}
					$('#migrationModal').modal("show");
				});

				$('#ppmcChecked').change(function () {
					var checkbox = document.getElementById('ppmcChecked');
					if (checkbox.checked == true) {
						ppmcdropdownchecked = true;

						$("#txtMPositionFTE").show();
                        $("#txtMPositionEndDate").show();
                        $("#txtMBillingType").show();
                        $("#txtMWorkCanOnlyBePerformedOnSite").show();
                        $("#txtSpecifycountryduetoclientFacing").show();
						$("#txtContractuallyrequiredLanguage").show();
                        $("#txtMPositionName").show();

                        $("#lblMPositionName").hide(); 
                        $("#lblMPositionFTE").hide();
                        $("#lblMPositionEndDate").hide();
                        $("#lblMBillingType").hide();
                        $("#lblMWorkCanOnlyBePerformedOnSite").hide();
                        $("#lblSpecifycountryduetoclientFacing").hide();
                        $("#lblContractuallyrequiredLanguage").hide();
					}
					else {
						ppmcdropdownchecked = false;
                        $("#txtMPositionFTE").hide();
                        $("#txtMPositionEndDate").hide();
                        $("#txtMBillingType").hide();
                        $("#txtMWorkCanOnlyBePerformedOnSite").hide();
                        $("#txtSpecifycountryduetoclientFacing").hide();
						$("#txtContractuallyrequiredLanguage").hide();
                        $("#txtMPositionName").hide();

                        $("#lblMPositionName").show();
                        $("#lblMPositionFTE").show();
                        $("#lblMPositionEndDate").show();
                        $("#lblMBillingType").show();
                        $("#lblMWorkCanOnlyBePerformedOnSite").show();
                        $("#lblSpecifycountryduetoclientFacing").show();
                        $("#lblContractuallyrequiredLanguage").show();
					}
				});
			}

			//Show Level 1 dd
			{
				function showLevel1DD(Region, ServiceLine, Category) {
					$.ajax({
						type: "GET", url: '@Url.Action("GetDropdown1Value", "KARAT")',
						async: false,
						data: {
							'region': Region, 'serviceLine': ServiceLine, 'category': Category,
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (response) {
							var dd1 = response.data;
							$('#ddlCategoryType').children().remove().end()
								.append('<option selected value="">-Select One-</option>');
							$('#ddlApprovedOverheadJustification').children().remove().end()
								.append('<option selected value="">-Select One-</option>');

							$.each(dd1, function (i, p) {
								$('#ddlCategoryType').append($('<option></option>').val(p).html(p));
							});
						}
					});
				}
			}

			//Level 2 dd
			{
				function showLevel2DD(Region, ServiceLine, Category, FirstDDVal) {
					$.ajax({
						type: "GET", url: '@Url.Action("GetDropdown2Value", "KARAT")',
						async:false,
						data: {
							'region': Region, 'serviceLine': ServiceLine, 'category': Category, 'firstDropdownVal': FirstDDVal
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (response) {
							$("#divddlApprovedOverheadJustification").show();
							$('#ddlApprovedOverheadJustification').children().remove().end()
								.append('<option selected value="">-Select One-</option>');
							//$('#ddlApprovedOverheadJustification option:first').prop('selected', 'selected');
							var dd1 = response.data;
							if (dd1.length > 0) {
								$("#divlblLevell2DD").show();
								$("#divddlLevell2DD").show();

								$.each(dd1, function (i, p) {
									$('#ddlApprovedOverheadJustification').append($('<option></option>').val(p).html(p));
								});
							}
							else {
								$("#divComment").show();
							}
						}
					});
				}
			}

			//Show PPMC Position
			{
				function ShowPPMCPosition(EmployeeId) {
					$.ajax({
						type: "GET", url: '@Url.Action("GetPPMCPosition", "KARAT")',
						async: false,
						data: {
                            'EmployeeId': EmployeeId
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (response) {
							var dd1 = response.data;


							$.each(dd1, function (i, p) {
                                $('#ddlPPMCPosition').append($('<option></option>').val(p).html(p));
							});
						}
					});
				}
			}

			//Button Click Event
			{
				$("#btnClose").click(function () {
					$("#divddlApprovedOverheadJustification").val("");
					$("#divddlVolumetricJustification").val("");
					$("#divddlBillablewithTimeTrackingIssueJustification").val("");
					$("#divddlApprovedOverheadJustification").hide();
					$("#divddlVolumetricJustification").hide();
					$("#divddlBillablewithTimeTrackingIssueJustification").hide();
					$("#spanComment").hide();
					$("#txtcomment").val("");
				});

				$("#btnUpdate").click(function () {
					var EmployeeId = $(".EmployeeId").text();
					var EmployeeName = $(".EmployeeName").text();
					var Level1DD = $('#ddlCategoryType').val();
					var Level2DD = $('#ddlApprovedOverheadJustification').val();
					var Actionvalue = $(".ActionValue").text();
					var ActionStatus = $('#ddlActionStatus').val();
					var ActionDueDate = $("#ddlActionDueDate").val();
					var Comments = $("#txtcomment").val();
					var Category = $('#hdnNewCategory').val();
					var Region = $('#hdnRegion').val();
					var ServiceLine = $('#hdnServiceLine').val();

					if (Category === 'High Billability Outliers')
					{
						if (Level1DD === '') {
							bootbox.alert('Please select Level1 DD');
							return;
						}
						else if (Level1DD === 'Other') {
							$('#ddlApprovedOverheadJustification').val('');

							if (ActionDueDate === '') {
								bootbox.alert('Please select action due date.');
								return;
							}
							if (ActionStatus === '') {
								bootbox.alert('Please select action status.');
								return;
							}
							if (Comments === '') {
								bootbox.alert('Please enter remarks.');
								return;
							}
						}
						else if (Level1DD === 'On-call Tracked as Overtime') {
							$('#ddlApprovedOverheadJustification').val('');
							if (ActionDueDate === '') {
								bootbox.alert('Please select action due date.');
								return;
							}
							if (ActionStatus === '') {
								bootbox.alert('Please select action status.');
								return;
							}
						}
						else {
							if (Level2DD === '') {
								bootbox.alert('Please select Level2 DD');
								return;
							}
							else if (Level2DD !=='Change Mgmt - Out of Office Hours'){
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
						}
					}
					else {
						if (Level1DD === '') {
							bootbox.alert('Please select Level1 DD');
							return;
						}
						else if (Level1DD === 'Volumetric') {
							if (ServiceLine === 'IT Outsourcing & Cloud' || ServiceLine === 'Security' || ServiceLine === 'Modern Workplace' ||
								ServiceLine === 'BPS' || ServiceLine === 'Insurance BPS') {
								if (Level2DD === '') {
									bootbox.alert('Please select Level2 DD');
									return;
								}
							}
						}
						else {
							if (Level2DD === '') {
								bootbox.alert('Please select Level2 DD');
								return;
							}
                            else if (Level2DD === 'Internal Projects') {
								if (Comments === '') {
									bootbox.alert('Please enter remarks.');
									return;
								}
							}
                            else if (Level2DD === 'Training') {
                                if (ActionDueDate === '') {
                                    bootbox.alert('Please select action due date.');
                                    return;
                                }
                                if (ActionStatus === '') {
                                    bootbox.alert('Please select action status.');
                                    return;
                                }
                            }
							else if (Level2DD === 'Redeploy / Reskilling / Transfer') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Resignation') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
                            else if (Level2DD === 'Stranded Bench') {
                                if (ActionDueDate === '') {
                                    bootbox.alert('Please select action due date.');
                                    return;
                                }
                                if (ActionStatus === '') {
                                    bootbox.alert('Please select action status.');
                                    return;
                                }
                            }
							else if (Level2DD === 'Planned Exit') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'New assignment / waiting for WBS') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'New assignment / waiting for Client’s BGV clearance') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Wrong / non-billable WBS') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Forgot to enter timesheet or entered incorrectly') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Manager did not approve timesheet on time') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'IWO Issue') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'DECP/Campus graduate') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Time Tracking technical/system issue') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Training/Pre-sales/Solutioning') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Non-Project') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Project') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Increase Billability (Partial additional work)') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Specific seasonal projects') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
							else if (Level2DD === 'Overtime required due to understaffing') {
								if (ActionDueDate === '') {
									bootbox.alert('Please select action due date.');
									return;
								}
								if (ActionStatus === '') {
									bootbox.alert('Please select action status.');
									return;
								}
							}
                            else if (Level2DD === 'Redeploy to Billable in existing team/Service Line') {
                                if (ActionDueDate === '') {
                                    bootbox.alert('Please select action due date.');
                                    return;
                                }
                                if (ActionStatus === '') {
                                    bootbox.alert('Please select action status.');
                                    return;
                                }
							}
                            else if (Level2DD === 'Redeploy to Billable work outside of existing team') {
                                if (ActionDueDate === '') {
                                    bootbox.alert('Please select action due date.');
                                    return;
                                }
                                if (ActionStatus === '') {
                                    bootbox.alert('Please select action status.');
                                    return;
                                }
                            }
						}
					}
					$("#loading").show();
					$.ajax({
						type: "GET", url: '@Url.Action("UpdateEmployeeRecordNew", "KARAT")',
						async:false,
						data: {
							'EmployeeId': EmployeeId, 'Level1DD': Level1DD, 'Level2DD': Level2DD, 'Actionvalue': Actionvalue,
							'ActionStatus': ActionStatus, 'ActionDueDate': ActionDueDate, 'Comments': Comments,
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (data) {
							bootbox.alert("Record Updated Successfully", function () {
								var $tabs = $('#tabs').tabs();
								var selected = $tabs.tabs('option', 'active');
								$('#DescModal').modal("hide");
								window.location.href = "@Url.Action("Index", "KARAT")";
							});
						}
					});
					//alert(EmployeeName + ' ' + Level1DD + ' ' + Level2DD + ' ' + Action + ' ' + ActionStatus + ' ' + ActionDueDate);
				});

                $("#btnUpdateRotation").click(function () {
                    var REID = $("#REID").val();
                    var EmployeeName = $(".RotationEmployeeName").val();
                    var RotationYN = $('#ddlRotationYN').val();
                    var RearliestReleasedDate = $('#txtEarliestReleaseDate').val();
                    var RBackfillPlan = $('#ddlBackfillPlan').val();
                    var RSpecifySuccessor = $('#txtSpecifySuccessorifknown').val();
                    var RExpectedKTDuration = $('#txtKTduration').val();
                    var REmployeeFlightRisk = $('#ddlflightrisk').val();
                    var RRiskOfServiceDelivery = $('#ddlRisk').val();
                    var RConfirmCurrentAccount = $('#txtConfirmcurrentaccount').val();
					var RAccountContactForInterlock = $('#txtAccountContactforInterlock').val();
                    var RComment = $('#txtRotationcomment').val();

					if (RotationYN === '') {
						bootbox.alert("Please select can the employee be released in the next 6 Month options");
						return;
					}
					else if (RotationYN === 'Yes, new role to be agreed') {
						if (RearliestReleasedDate === '') {
							bootbox.alert("Please enter Earliest Release date");
							return;
						}
						else if (RBackfillPlan === '') {
							bootbox.alert("Please select Backfill Plan");
							return;
						}
						else if (RExpectedKTDuration === '') {
							bootbox.alert("Please enter KT duration (weeks)");
							return;
						}
						else if (RRiskOfServiceDelivery === '') {
							bootbox.alert("Please select Risk to service delivery in case of rotation");
							return;
						}
						else if (RConfirmCurrentAccount === '') {
							bootbox.alert("Please enter Confirm current account.");
							return;
						}
						else if (RAccountContactForInterlock === '') {
							bootbox.alert("Please enter Account Contact(for interlock");
							return;
						}
						else if (REmployeeFlightRisk === '') {
							bootbox.alert("Please select Employee flight risk in case of change.");
							return;
						}

					}

					$("#loading1").show();
					$.ajax({
						type: "GET", url: '@Url.Action("UpdateEmployeeRotation", "KARAT")',
						async: false,
						data: {
							'REID': REID, 'EmployeeName': EmployeeName, 'RotationYN': RotationYN, 'RearliestReleasedDate': RearliestReleasedDate, 'RBackfillPlan': RBackfillPlan,
							'RSpecifySuccessor': RSpecifySuccessor, 'RExpectedKTDuration': RExpectedKTDuration, 'REmployeeFlightRisk': REmployeeFlightRisk, 'RRiskOfServiceDelivery': RRiskOfServiceDelivery,
							'RConfirmCurrentAccount': RConfirmCurrentAccount, 'RAccountContactForInterlock': RAccountContactForInterlock, 'RComment': RComment
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (data) {
							bootbox.alert("Record Updated Successfully", function () {
								var $tabs = $('#tabs').tabs();
								var selected = $tabs.tabs('option', 'active');
								$('#rotationModal').modal("hide");
								window.location.href = "@Url.Action("Index", "KARAT")";
							});
						}
					});
					//alert(EmployeeName + ' ' + Level1DD + ' ' + Level2DD + ' ' + Action + ' ' + ActionStatus + ' ' + ActionDueDate);
				});

				$("#btnUpdateMigration").click(function () {
					var MEID = $("#MEID").val();

                    var txtMPositionFTE = $('#txtMPositionFTE').val();
                    var txtMPositionEndDate = $('#txtMPositionEndDate').val();
                    var txtMBillingType = $('#txtMBillingType').val();
                    var txtMWorkCanOnlyBePerformedOnSite = $('#txtMWorkCanOnlyBePerformedOnSite').val();
					var txtSpecifycountryduetoclientFacing = $('#txtSpecifycountryduetoclientFacing').val();
					var txtContractuallyrequiredLanguage = $('#txtContractuallyrequiredLanguage').val();
                    var txtMPositionName = $('#txtMPositionName').val();

                    var ddlContractualConstraint = $('#ddlContractualConstraint').val();
                    var ddlFulfilmentconstraints = $('#ddlFulfilmentconstraints').val();
                    var ddlYourassessment = $('#ddlYourassessment').val();

                    var txtMigrationEarliestReleaseDate = $('#txtMigrationEarliestReleaseDate').val();
                    var txtMigrationFTE = $('#txtMigrationFTE').val();
					var ddlMigrateTo = $('#ddlMigrateTo').val();
					var ddlMigrationRisk = $('#ddlMigrationRisk').val();
					var txtMigrationConfirmcurrentaccount = $('#txtMigrationConfirmcurrentaccount').val();
					var txtMigrationAccountContactforInterlock = $('#txtMigrationAccountContactforInterlock').val();
					var txtMigrationcomment = $('#txtMigrationcomment').val();


     //               $("#ddlMigrationCanWorkbeMigratedDetails option:selected").each(function () {
     //                   ddlMigrationCanWorkbeMigratedDetails += $(this).text() + ",";
					//});
					//var ddlMigrationCanWorkbeMigrated = $('#ddlMigrationCanWorkbeMigrated').val();

     //               var ddlMigrationSubConstraint = $('#ddlMigrationSubConstraint').val();

                    var checkbox = document.getElementById('ppmcChecked');
					if (checkbox.checked == true) {
                        if (txtMPositionName === '') {
                            bootbox.alert("Please enter Position Name");
                            return;
                        }
                        else if (txtMPositionFTE === '') {
                            bootbox.alert("Please enter Position FTE");
                            return;
                        }
						else if (txtMPositionEndDate === '') {
                            bootbox.alert("Please enter Position End Date");
                            return;
                        }
                        else if (txtMBillingType === '') {
                            bootbox.alert("Please enter BillingType");
                            return;
                        }
                        else if (txtMWorkCanOnlyBePerformedOnSite === '') {
                            bootbox.alert("Please enter PPMC Location Alignment");
                            return;
                        }
                        else if (txtSpecifycountryduetoclientFacing === '') {
                            bootbox.alert("Please enter Specify country due to client Facing");
                            return;
                        }
                        else if (txtContractuallyrequiredLanguage === '') {
                            bootbox.alert("Please enter Contractually required Language");
                            return;
                        }
					}

                  

                    if (ddlContractualConstraint === '') {
                        bootbox.alert("Please select Contractual Constraint");
                        return;
                    }
                    else if (ddlFulfilmentconstraints === '') {
                        bootbox.alert("Please select Fulfilment constraints");
                        return;
                    }
                    else if (ddlYourassessment === '') {
                        bootbox.alert("Please select Your assessment");
                        return;
					}
                   

					if (ddlYourassessment === 'OK to migrate') {
						if (txtMigrationEarliestReleaseDate === '') {
							bootbox.alert("Please enter Migratio Earliest Release Date");
							return;
						}
						else if (txtMigrationFTE === '') {
							bootbox.alert("Please enter FTE");
							return;
						}
						else if (ddlMigrateTo === '') {
							bootbox.alert("Please select Migrate To");
							return;
						}
						else if (ddlMigrationRisk === '') {
							bootbox.alert("Please select Migration Risk");
							return;
						}
						else if (txtMigrationConfirmcurrentaccount === '') {
							bootbox.alert("Please enter Migration Confirm current account");
							return;
						}
						else if (txtMigrationAccountContactforInterlock === '') {
							bootbox.alert("Please enter Migration Account Contact for Interlock");
							return;
						}
					}
					




					$("#loading2").show();
					$.ajax({
						type: "GET", url: '@Url.Action("UpdateEmployeeMigration", "KARAT")',
						async: false,
						data: {
                            'MEID': MEID, 'txtMPositionFTE': txtMPositionFTE, 'txtMPositionEndDate': txtMPositionEndDate,
                            'txtMBillingType': txtMBillingType, 'txtMWorkCanOnlyBePerformedOnSite': txtMWorkCanOnlyBePerformedOnSite,
                            'txtSpecifycountryduetoclientFacing': txtSpecifycountryduetoclientFacing, 'txtContractuallyrequiredLanguage': txtContractuallyrequiredLanguage,
                            'ddlContractualConstraint': ddlContractualConstraint, 'ddlFulfilmentconstraints': ddlFulfilmentconstraints,
                            'ddlYourassessment': ddlYourassessment, 'ddlMigrateTo': ddlMigrateTo, 'txtMigrationEarliestReleaseDate': txtMigrationEarliestReleaseDate, 'txtMigrationFTE': txtMigrationFTE,
                            'ddlMigrationRisk': ddlMigrationRisk, 'ppmcChecked': ppmcdropdownchecked, 'txtMigrationConfirmcurrentaccount': txtMigrationConfirmcurrentaccount,
                            'txtMigrationAccountContactforInterlock': txtMigrationAccountContactforInterlock, 'txtMigrationcomment': txtMigrationcomment, 'txtMPositionName': txtMPositionName
						},
						contentType: "application/json; charset=utf-8",
						dataType: "json",
						success: function (data) {
							bootbox.alert("Record Updated Successfully", function () {
								var $tabs = $('#tabs').tabs();
								var selected = $tabs.tabs('option', 'active');
								$('#rotationModal').modal("hide");
								window.location.href = "@Url.Action("Index", "KARAT")";
							});
						}
					});
				});

                

			}
		});
    </script>
}

<div class="modal fade" id="DescModal" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="background-color:rebeccapurple">
                <h5 class="modal-title offset-3" style="padding-left:80px; color:white">Individual Update</h5>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class=" text-left" style="font-size:13px;width:80px;"><b>Emp ID</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 170px;"><b>Emp Name</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 170px;"><b>Category</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 90px;"><b>Rev Region</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 90px;"><b>Geo Region</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 150px;"><b>Service Line</b></div>
                        <input id="hdnCategory" type="hidden" />
                        <input id="hdnRegion" type="hidden" />
                        <input id="hdnGeoRegion" type="hidden" />
                        <input id="hdnServiceLine" type="hidden" />
                        <input id="hdnEditValue" type="hidden" />
                    </div>
                    <div class="row">
                        <div class=" text-left" style="font-size: 13px; width: 80px;"><p style="margin:0;padding:0" id="empId" class="EmployeeId"></p></div>
                        <div class=" text-left" style="font-size: 13px; width: 170px;"><p style="margin:0;padding:0" id="lblEmployeeName" class="EmployeeName"></p></div>
                        <div class=" text-left" style="font-size: 13px; width: 170px;"><p style="margin:0;padding:0" class="EmployeeCategory"></p></div>
                        <div class=" text-center" style="font-size: 13px; width: 90px;"><p style="margin:0;padding:0" class="EmployeeRegion"></p></div>
                        <div class=" text-center" style="font-size: 13px; width: 90px;"><p style="margin:0;padding:0" class="EmployeeGeoRegion"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 150px;"><p style="margin:0;padding:0" class="EmployeeServiceLine"></p></div>
                        <input id="hdnNewCategory" type="hidden" />
                    </div>

                    <hr />
                    <div class="row">
                        <div class="col-md-4 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Level1 DD</b></div>
                        <div id="divlblLevell2DD" class="col-md-4 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Level2 DD</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <select required id="ddlCategoryType" style="width:200px;" class="form-control input-field">
                                <option value="">Please select</option>
                            </select>
                        </div>
                        <div class="col-md-4 text-center" id="divddlLevell2DD">
                            <select required id="ddlApprovedOverheadJustification" style="width:320px;" class="form-control input-field">
                                <option value="" selected="selected">-Select One-</option>
                            </select>
                        </div>
                    </div>

                    <div id="divAction">
                        <hr />
                        <div class="row">
                            <div class="col-md-1 text-left" style="font-size:15px;">
                                <b>Action-</b>
                            </div>
                            <div class="col-md-9 text-left" style="font-size: 14px; color: blueviolet">
                                <p style="margin:0;padding:0" class="ActionValue"></p>
                            </div>
                        </div>
                        <hr />
                        <div class="row">

                            <div class="col-md-4 text-left" style="font-size:13px;">
                                <b><span style="color:red">*</span>Action Due Date</b>
                            </div>
                            <div class="col-md-4 text-left" style="font-size:13px;">
                                <b><span style="color: red">*</span>Action Status</b>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-4 text-left">
                                <input type="date" id="ddlActionDueDate" onkeydown="return false" class="form-control input-field" style="width:200px;" />
                            </div>
                            <div class="col-md-4 text-center">
                                <select required id="ddlActionStatus" class="form-control input-field" style="width:200px;">
                                    <option value="">-Select One-</option>
                                    <option value="Work In progress">Work In progress</option>
                                    <option value="Complete">Complete</option>
                                    <option value="Overdue">Overdue</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row" id="divComment">

                        <div class="ml-2" style="font-size:13px;">
                            <b><span id="spanComment" style="color:red">*</span>Remarks</b>
                            <textarea id="txtcomment" type="text" style="width:715px; height:70px;" class="form-control input-field">
							
							</textarea>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <img id="loading" src="~/Balls line.gif" alt="Loading" />
                <button id="btnUpdate" type="button" class="btn btn-primary">
                    <i class="fas fa-save"></i> Submit
                </button>
                <button id="btnClose" type="button" class="btn btn-secondary" data-dismiss="modal">
                    <i class="fas fa-window-close"></i> Close
                </button>

            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade" id="rotationModal" role="dialog" style="overflow:auto">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="background-color:rebeccapurple">
                <h5 class="modal-title offset-3" style="padding-left:80px; color:white">

                    <label id="lblHeader"></label>	Individual Update
                </h5>
            </div>
            <div class="modal-body">
                <div class="container">

                    <div class="row">
                        <div class=" text-left" style="font-size:13px;width:150px;"><b>Employee</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 280px;"><b>Opportunities for redeployment based on skills/work location</b></div>
                        <div class=" text-left" style="font-size:13px;width:150px;padding-left:70px;"><b>Account</b></div>

                        @*<input id="RotationhdnCategory" type="hidden" />*@
                        <input id="RearliestReleasedDate" type="hidden" />
                        <input id="RBackfillPlan" type="hidden" />
                        <input id="RSpecifySuccessor" type="hidden" />
                        <input id="RExpectedKTDuration" type="hidden" />
                        <input id="REmployeeFlightRisk" type="hidden" />

                    </div>
                    <div class="row">
                        <div class=" text-left" style="font-size: 13px; width: 150px;"><p style="margin:0;padding:0" id="lblRotationEmployeeName" class="REmployee"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 350px;"><p style="margin:0;padding:0" class="RNeedforresources"></p></div>
                        <div class=" text-left" style="font-size: 13px; width: 150px;"><p style="margin:0;padding:0" id="lblRotationEmployeeName" class="RAccount"></p></div>

                        <input id="RRiskOfServiceDelivery" type="hidden" />
                        <input id="RConfirmCurrentAccount" type="hidden" />
                        <input id="RAccountContactForInterlock" type="hidden" />
                        <input id="RComment" type="hidden" />
                        <input id="REID" type="hidden" />
                    </div>
                    <hr />
                    <div class="row">
                        <div class=" text-left" style="font-size: 13px; width: 150px;"><b>Position ID</b></div>

                        <div class=" text-left" style="font-size: 13px; width: 350px;"><b>Position End Date</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 150px;"><b>Month In Position</b></div>

                    </div>
                    <div class="row">
                        <div class="text-left" style="font-size: 13px; width: 150px;"><p style="margin:0;padding:0" class="RPosition"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 350px;"><p style="margin:0;padding:0" class="RPositionEndDate"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 150px;"><p style="margin:0;padding:0" class="RMonthInPosition"></p></div>

                        <input id="hdnNewCategory" type="hidden" />
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col-12 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Can the employee be released for redeployment in Q2 or Q3</b></div>


                    </div>

                    <div class="row">
                        <div class="col-6 text-center ">
                            <select required id="ddlRotationYN" style="width:200px;" class="form-control input-field">
                                <option value="">-Select One-</option>
                                <option value="Yes, new role to be agreed">Yes, new role to be agreed</option>
                                <option value="Yes, new role already known">Yes, new role already known</option>
                                <option value="No, named in contract">No, named in contract</option>
                                <option value="No, critical phase for account">No, critical phase for account</option>
                                <option value="No, would impact client relationship">No, would impact client relationship</option>
                                <option value="No, employee not interested">No, employee not interested</option>
                                <option value="No, employee leaving">No, employee leaving</option>
                            </select>
                        </div>
                    </div>
                    <div id="divInputText">
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Earliest Release Date:</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Backfill Plan:</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b>Successor if known:</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>KT duration (weeks):</b></div>
                        </div>

                        <div class="row">

                            <div class="col-3 text-center">
                                <input type="date" id="txtEarliestReleaseDate" style="width:150px;" class="form-control input-field" />
                            </div>
                            <div class="col-3 text-center">
                                <select required id="ddlBackfillPlan" style="width: 150px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="Not needed">
                                        Not needed
                                    </option>
                                    <option value="Migrate to GDN">Migrate to GDN</option>
                                    <option value="Lower level employee">Lower level employee</option>
                                    <option value="Promote from within">Promote from within</option>
                                </select>
                            </div>

                            <div class="col-3 text-center">
                                <input type="text" id="txtSpecifySuccessorifknown" style="width: 150px;" class="form-control input-field" />
                            </div>
                            <div class="col-3 text-center">
                                <input type="number" id="txtKTduration" value="4" style="width: 150px;" class="form-control input-field" />
                            </div>
                        </div>
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Risk to service delivery in case of rotation:</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Confirm current account:</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Account Contact (for interlock):</b></div>
                            <div class="col-3 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Employee flight risk in case of change:</b></div>
                        </div>

                        <div class="row">

                            <div class="col-3 text-center">
                                <select required id="ddlRisk" style="width: 150px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="High">
                                        High (please comment)
                                    </option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low" selected>Low</option>
                                </select>
                            </div>
                            <div class="col-3 text-center">
                                <input type="text" id="txtConfirmcurrentaccount" style="width: 150px;" class="form-control input-field" />
                            </div>

                            <div class="col-3 text-center">
                                <input type="text" id="txtAccountContactforInterlock" placeholder="abc@dxc.com" style="width: 150px;" class="form-control input-field" />
                            </div>
                            <div class="col-3 text-center">
                                <select required id="ddlflightrisk" style="width: 150px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="High">
                                        High (please comment)
                                    </option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="ml-2" style="font-size:13px;">
                                <b>Comment</b>
                                <textarea id="txtRotationcomment" type="text" style="width:715px; height:70px;" class="form-control input-field"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <img id="loading1" src="~/Balls line.gif" alt="Loading" />
                <button id="btnUpdateRotation" type="button" class="btn btn-primary">
                    <i class="fas fa-save"></i> Submit
                </button>
                <button id="btnClose" type="button" class="btn btn-secondary" data-dismiss="modal">
                    <i class="fas fa-window-close"></i> Close
                </button>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="migrationModal" role="dialog" style="overflow:auto">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="background-color:rebeccapurple">
                <h5 class="modal-title offset-3" style="padding-left:80px; color:white">

                    <label id="lblHeader">Migration</label>	Individual Update
                </h5>
            </div>
            <div class="modal-body">
                <div class="container">

                    <div class="row">
                        <div class=" text-left" style="font-size:13px;width:250px;"><b>Employee</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><b>Need for resources with skills of this employee</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><b>Account</b></div>
                    </div>
                    <div class="row">
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><p style="margin:0;padding:0" id="lblRotationEmployeeName" class="MemployeeName"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 250px;"><p style="margin:0;padding:0" class="MneedForresourcesWithSkillsOfthisEmployee"></p></div>
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><p style="margin:0;padding:0" id="lblRotationEmployeeName" class="Maccount"></p></div>


                        <input id="RComment" type="hidden" />
                        <input id="MEID" type="hidden" />
                    </div>
                    <hr />
                    <div class="row">
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><b>Position ID</b></div>
                        <div class=" text-left" style="font-size: 13px; width: 250px;"><b>FTE Tracked in May</b></div>
                    </div>
                    <div class="row">
                        <div class="text-left" style="font-size: 13px; width: 250px;"><p style="margin:0;padding:0" class="Mposition"></p></div>
                        <div class="text-left" style="font-size: 13px; width: 250px;"><p style="margin:0;padding:0" class="MFTETRacked"></p></div>
                        <input id="hdnNewCategory" type="hidden" />
                    </div>
                    <hr />
                    <div class="row mb-1">
                        <div style="font-size: 13px; width: 500px;font-weight:bold"><input type="checkbox" id="ppmcChecked" class="text-left" style="font-size: 10px;font-weight:bold" /> Edit</div>
                    </div>


                    <div style="background-color:#F3F7F5">
                        <div class="row" style="background-color:#F3F7F5">
                            <div class=" text-left" style="font-size: 13px; width: 180px;"><b>Position Name</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 180px; "><b>Position FTE</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 180px;"><b>Position End date</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 180px; "><b>Billing Type</b></div>

                        </div>
                        <div class="row" style="background-color:#F3F7F5">
                            <div class="text-left" style="font-size: 13px; width: 180px;">
                                <p style="margin:0;padding:0" id="lblMPositionName" class="MPositionName"></p>
                                <input type="text" id="txtMPositionName" style="width:150px;" class="form-control input-field" />
                            </div>
                            <div class="text-left" style="font-size: 13px; width: 180px;">
                                <p style="margin:0;padding:0" id="lblMPositionFTE" class="MPositionFTE"></p>
                                <input type="text" id="txtMPositionFTE" style="width:150px;" class="form-control input-field" />
                            </div>
                            <div class=" text-left" style="font-size: 13px; width: 180px; ">
                                <p style="margin:0;padding:0" id="lblMPositionEndDate" class="MPositionEndDate"></p>
                                <input type="date" id="txtMPositionEndDate" style="width:150px;" class="form-control input-field" />
                            </div>
                            <div class="text-left" style="font-size: 13px; width: 180px; ">
                                <p style="margin:0;padding:0" id="lblMBillingType" class="MBillingType"></p>
                                @*<input type="text" id="txtMBillingType" style="width:150px;" class="form-control input-field" />*@


                                <select required id="txtMBillingType" style="width:150px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="Direct Billable">Direct Billable</option>
                                    <option value="Indirect Billable">Indirect Billable</option>
                                    <option value="Non-Billable">Non-Billable</option>
                                </select>




                            </div>
                        </div>
                        <div class="row" style="background-color:#F3F7F5;text-align:center">
                            &nbsp;
                        </div>
                        <div class="row" style="background-color:#F3F7F5">
                            <div class=" text-left" style="font-size: 13px; width: 180px;"><b>PPMC Location Alignment</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 150px;"><b>Specify country due to client Facing</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 180px;padding-left:30px"><b>Contractually required Language (primary)</b></div>

                        </div>
                        <div class="row" style="background-color:#F3F7F5">
                            <div class="text-left" style="font-size: 13px; width: 180px;">
                                <p style="margin:0;padding:0" id="lblMWorkCanOnlyBePerformedOnSite" class="MWorkCanOnlyBePerformedOnSite"></p>
                                @*<input type="text" id="txtMWorkCanOnlyBePerformedOnSite" style="width:150px;" class="form-control input-field" />*@

                                <select required id="txtMWorkCanOnlyBePerformedOnSite" style="width:150px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="Client Site">Client Site</option>
                                    <option value="DXC Office">DXC Office</option>
                                    <option value="Remote Resource">Remote Resource</option>
                                </select>


                            </div>
                            <div class=" text-left" style="font-size: 13px; width: 180px;">

                                <p style="margin:0;padding:0" id="lblSpecifycountryduetoclientFacing" class="SpecifycountryduetoclientFacing"></p>
                                <input type="text" id="txtSpecifycountryduetoclientFacing" style="width:150px;" class="form-control input-field" />
                            </div>
                            <div class="text-left" style="font-size: 13px; width: 180px;">
                                <p style="margin:0;padding:0" id="lblContractuallyrequiredLanguage" class="ContractuallyrequiredLanguage"></p>
                                <input type="text" id="txtContractuallyrequiredLanguage" style="width:150px;" class="form-control input-field" />
                            </div>
                        </div>
                        <div class="row" style="background-color:#F3F7F5;text-align:center">
                            &nbsp;
                        </div>
                        <div class="row" style="background-color:#F3F7F5;text-align:center">
                            <div class="offset-2" style="background-color:#F3F7F5;font-size:11px;">
                                    This information was sourced from PPMC and your updates will be uploaded into PPMC <b>after validation</b>
                            </div>
                        </div>

                    </div>

                    <hr />

                    <div id="divConCon">
                        <div class="row">
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b>Contractual constraints other than language</b></div>
                            <div class=" text-left" style="font-size: 13px; width: 250px;"><b>Fulfilment constraints </b></div>
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b>Your assessment </b></div>
                        </div>

                        <div class="row">
                            <div class="text-left " style="font-size: 13px; width: 250px;">
                                <select required id="ddlContractualConstraint" style="width:200px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="No constraints">No constraints</option>
                                    <option value="Employee named in the contract (key personnel)">Employee named in the contract (key personnel)</option>
                                    <option value="Must be country citizen or ITAR">Must be country citizen or ITAR</option>
                                    <option value="Must be EU citizen">Must be EU citizen</option>
                                    <option value="Delivery location restricted to specific country">Delivery location restricted to specific country</option>
                                    <option value="Delivery must be done in EUlocation restricted to EU">
                                        Delivery must be done in EUlocation restricted to EU
                                    </option>
                                    <option value="I don’t know">I don’t know</option>
                                </select>
                            </div>
                            <div class="text-left " style="font-size: 13px; width: 250px;">
                                <select required id="ddlFulfilmentconstraints" style="width:200px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="None">None</option>
                                    <option value="GDN does not have language capability">GDN does not have language capability</option>
                                    <option value="GDN does not have technical skills">GDN does not have technical skills</option>
                                    <option value="Attrition in GDN is too high">Attrition in GDN is too high</option>
                                    <option value="Other- please comment">Other- please comment</option>
                                </select>
                            </div>
                            <div class="text-left " style="font-size: 13px; width: 250px;">
                                <select required id="ddlYourassessment" style="width:200px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="OK to migrate">
                                        OK to migrate
                                    </option>
                                    <option value="Migration already started">Migration already started</option>
                                    <option value="Don’t migrate">Don’t migrate</option>
                                    <option value="Not relevant as work will end">Not relevant as work will end</option>
                                </select>
                            </div>
                        </div>
                    </div>



                    <div id="divInputTextMigration">
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="text-left" style="font-size:13px; width: 250px;"><b><span style="color:red">*</span>Earliest Release Date:</b></div>
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b><span style="color:red">*</span>FTE:</b></div>
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b><span style="color:red">*</span>Migrate to:</b></div>
                        </div>
                        <div class="row">
                            <div class="text-left" style="font-size: 13px; width: 250px;">
                                <input type="date" id="txtMigrationEarliestReleaseDate" style="width: 200px;" class="form-control input-field" />
                            </div>
                            <div class="text-left" style="font-size: 13px; width: 250px;">
                                <input type="number" id="txtMigrationFTE" style="width: 200px;" class="form-control input-field" />
                            </div>
                            <div class="text-left" style="font-size: 13px; width: 250px;">
                                <select required id="ddlMigrateTo" style="width: 200px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="GDN India">GDN India</option>
                                    <option value="GDN Philippines">GDN Philippines</option>
                                    <option value="GDN Bulgaria">GDN Bulgaria</option>
                                    <option value="GDN Poland">GDN Poland</option>
                                    <option value="GDN Slovakia">GDN Slovakia</option>
                                    <option value="GDN Vietnam">GDN Vietnam</option>
                                    <option value="Other, please comment">Other, please comment</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b><span style="color:red">*</span>Risk to service delivery:</b></div>
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b><span style="color:red">*</span>Confirm current account:</b></div>
                            <div class="text-left" style="font-size: 13px; width: 250px;"><b><span style="color:red">*</span>Account Contact (for interlock):</b></div>
                        </div>

                        <div class="row">

                            <div class="text-left" style="font-size: 13px; width: 250px;">
                                <select required id="ddlMigrationRisk" style="width: 200px;" class="form-control input-field">
                                    <option value="">-Select One-</option>
                                    <option value="High">
                                        High (please comment)
                                    </option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                            <div class=" text-left" style="font-size: 13px; width: 250px;">
                                <input type="text" id="txtMigrationConfirmcurrentaccount" style="width: 200px;" class="form-control input-field" />
                            </div>

                            <div class=" text-left" style="font-size: 13px; width: 250px;">
                                <input type="email" id="txtMigrationAccountContactforInterlock" placeholder="abc@dxc.com" style="width: 200px;" class="form-control input-field" />
                            </div>
                        </div>
                        <div class="row">
                            &nbsp;
                        </div>
                        <div class="row">
                            <div class="ml-2" style="font-size:13px;">
                                <b>Comment</b>
                                <textarea id="txtMigrationcomment" type="text" style="width:715px; height:70px;" class="form-control input-field">
	
								</textarea>
                            </div>
                        </div>
                    </div>

                    @*<div id="divInputTextMigrationConstraint" style="padding:0px;">
                            <div class="row">
                                &nbsp;
                            </div>
                            <div class="row">
                                <div class="col-4 text-left" style="font-size:13px;"><b><span style="color:red">*</span>Sub Constraints:</b></div>
                            </div>
                            <div class="row">

                                <div class="col-12 text-center">
                                    <select required id="ddlMigrationSubConstraint" style="width:550px;" class="form-control input-field">
                                        <option value="">-Select One-</option>
                                        <option value="Location Restricted – Contractual restriction work to be delivered out of a specific location">Location Restricted – Contractual restriction work to be delivered out of a specific location</option>
                                        <option value="Language Restricted – Contractual obligation to provide support in a specific language">Language Restricted – Contractual obligation to provide support in a specific language</option>
                                        <option value="Commercial – Resource is named in the contract">Commercial – Resource is named in the contract</option>
                                        <option value="Public Sector: Civilian – Contractual requirement to use citizens">Public Sector: Civilian – Contractual requirement to use citizens</option>
                                        <option value="Public Sector: ITAR/Security Cleared/Defence – Contractual requirements to use security cleared personnel">Public Sector: ITAR/Security Cleared/Defence – Contractual requirements to use security cleared personnel.</option>
                                    </select>
                                </div>
                            </div>

                        </div>*@

                </div>
            </div>
            <div class="modal-footer">
                <img id="loading2" src="~/Balls line.gif" alt="Loading" />
                <button id="btnUpdateMigration" type="button" class="btn btn-primary">
                    <i class="fas fa-save"></i> Submit
                </button>
                <button id="btnClose" type="button" class="btn btn-secondary" data-dismiss="modal">
                    <i class="fas fa-window-close"></i> Close
                </button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="NoDescModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                @*<button type="button" class="close" data-dismiss="modal" aria-hidden="true">�</button>*@
                <h4 class="modal-title offset-2" style="padding-left:50px;">Individual Update</h4>

            </div>
            <div class="modal-body">
                <div class="mt-3 text-center">
                    <strong style="color:blueviolet;">Individual employee update is not permitted after the cut-off date</strong>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close!</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>